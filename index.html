<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Traffic Navigation Analytics</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="stylesheet" href="./style.css">
    <script src="./script.js" defer></script>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="logo">
            <span>üõ∞Ô∏è</span>
            Satellite Traffic Analytics!
        </div>
        <div class="nav-buttons">
            <button class="nav-button active" onclick="switchPage('conjunctions')">Conjunctions</button>
            <button class="nav-button" onclick="switchPage('elset')">ELSET Data</button>
            <button class="nav-button" onclick="switchPage('sgi')">SGI Data</button>
            <button class="nav-button" onclick="switchPage('statevector')">StateVector Data</button>
            <button class="nav-button dashboard" onclick="openDashboard()">üìä Analytics Dashboard</button>
        </div>
    </nav>

    <!-- Sidebar Toggle Button -->
    <button class="sidebar-toggle" onclick="toggleSidebar()">
        <span id="sidebarToggleIcon">‚ò∞</span>
    </button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <h1 id="sidebarTitle">Conjunctions</h1>
        
        <div class="stats" id="stats">
            <h2>Statistics</h2>
            <div class="stat-item">
                <span>Total Items:</span>
                <span id="totalCount">0</span>
            </div>
            <div id="statsContent">
                <!-- Dynamic stats content -->
            </div>
        </div>

        <div class="filter-section">
            <h3>üîç Filters</h3>
            <input type="text" class="filter-input" id="searchInput" placeholder="Search...">
            
            <div class="filter-buttons" id="filterButtons">
                <!-- Dynamic filter buttons -->
            </div>
        </div>

        <div id="dataList"></div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- View Controls -->
        <div class="view-controls">
            <button class="refresh-btn" onclick="refreshData()" title="Refresh Data">üîÑ</button>
            <button class="view-toggle" onclick="toggleView()">
                <span id="viewToggleText">Switch to 3D Globe</span>
            </button>
        </div>

        <!-- Conjunctions Page -->
        <div class="page active" id="conjunctions-page">
            <div id="conjunctions-mapView"></div>
            <div id="conjunctions-globeView" class="hidden"></div>
        </div>

        <!-- ELSET Page -->
        <div class="page" id="elset-page">
            <div id="elset-mapView"></div>
            <div id="elset-globeView" class="hidden"></div>
        </div>

        <!-- SGI Page -->
        <div class="page" id="sgi-page">
            <div id="sgi-mapView"></div>
            <div id="sgi-globeView" class="hidden"></div>
        </div>

        <!-- StateVector Page -->
        <div class="page" id="statevector-page">
            <div id="statevector-mapView"></div>
            <div id="statevector-globeView" class="hidden"></div>
        </div>

        <!-- Loading indicator -->
        <div class="loading hidden" id="loading">
            <div class="spinner"></div>
            <div id="loadingText">Loading data...</div>
        </div>
    </div>
</body>
</html>
